{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\felip\\\\Documents\\\\Projetos\\\\sistema-os\\\\frontend\\\\src\\\\pages\\\\DetalhesClientes.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport ClienteDetalhes from '../components/cliente/CPClienteDetalhes';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction DetalhesClientes() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [cliente, setCliente] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Carrega os dados do cliente\n  useEffect(() => {\n    const carregarCliente = async () => {\n      try {\n        const response = await fetch(`http://localhost:3000/clientes/${id}`);\n        if (!response.ok) {\n          const errorData = await response.json(); // Captura a mensagem de erro do backend\n          throw new Error(errorData.error || 'Erro ao carregar cliente');\n        }\n        const data = await response.json();\n        console.log('Dados recebidos do backend:', data); // Log dos dados recebidos\n        if (!data) {\n          setError('Cliente não encontrado.');\n        } else {\n          setCliente(data);\n        }\n      } catch (error) {\n        console.error('Erro ao carregar cliente:', error); // Log do erro\n        setError('Erro ao carregar dados do cliente');\n      } finally {\n        setLoading(false);\n      }\n    };\n    carregarCliente();\n  }, [id]);\n\n  // Função para deletar o cliente\n  const handleDelete = async () => {\n    const confirmacao = window.confirm('Tem certeza que deseja apagar este cliente?');\n    if (confirmacao) {\n      try {\n        const response = await fetch(`http://localhost:3000/clientes/${id}`, {\n          method: 'DELETE'\n        });\n        if (!response.ok) throw new Error('Erro ao deletar cliente');\n        alert('Cliente apagado com sucesso!');\n        navigate('/clientes'); // Redireciona para a lista de clientes\n      } catch (error) {\n        console.error('Erro:', error);\n        alert('Erro ao apagar cliente');\n      }\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Carregando...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 21\n  }, this);\n  if (!cliente) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Cliente n\\xE3o encontrado.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 24\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Detalhes do Cliente\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ClienteDetalhes, {\n      cliente: cliente\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate(`/clientes/detalhes/editar/${id}`),\n      children: \"Editar Cliente\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleDelete,\n      style: {\n        backgroundColor: 'red',\n        color: 'white',\n        marginLeft: '10px'\n      },\n      children: \"Apagar Cliente\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate('/clientes'),\n      style: {\n        marginLeft: '10px'\n      },\n      children: \"Voltar para Lista\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(DetalhesClientes, \"4Q2MCgsLl5GUJQvM7ybE50BzNvU=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = DetalhesClientes;\nexport default DetalhesClientes;\nvar _c;\n$RefreshReg$(_c, \"DetalhesClientes\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","ClienteDetalhes","jsxDEV","_jsxDEV","DetalhesClientes","_s","id","navigate","cliente","setCliente","loading","setLoading","error","setError","carregarCliente","response","fetch","ok","errorData","json","Error","data","console","log","handleDelete","confirmacao","window","confirm","method","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","backgroundColor","color","marginLeft","_c","$RefreshReg$"],"sources":["C:/Users/felip/Documents/Projetos/sistema-os/frontend/src/pages/DetalhesClientes.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport ClienteDetalhes from '../components/cliente/CPClienteDetalhes';\r\n\r\nfunction DetalhesClientes() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [cliente, setCliente] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Carrega os dados do cliente\r\n  useEffect(() => {\r\n    const carregarCliente = async () => {\r\n      try {\r\n        const response = await fetch(`http://localhost:3000/clientes/${id}`);\r\n        if (!response.ok) {\r\n          const errorData = await response.json(); // Captura a mensagem de erro do backend\r\n          throw new Error(errorData.error || 'Erro ao carregar cliente');\r\n        }\r\n        const data = await response.json();\r\n        console.log('Dados recebidos do backend:', data); // Log dos dados recebidos\r\n        if (!data) {\r\n          setError('Cliente não encontrado.');\r\n        } else {\r\n          setCliente(data);\r\n        }\r\n      } catch (error) {\r\n        console.error('Erro ao carregar cliente:', error); // Log do erro\r\n        setError('Erro ao carregar dados do cliente');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    carregarCliente();\r\n  }, [id]);\r\n\r\n  // Função para deletar o cliente\r\n  const handleDelete = async () => {\r\n    const confirmacao = window.confirm('Tem certeza que deseja apagar este cliente?');\r\n    if (confirmacao) {\r\n      try {\r\n        const response = await fetch(`http://localhost:3000/clientes/${id}`, {\r\n          method: 'DELETE',\r\n        });\r\n        if (!response.ok) throw new Error('Erro ao deletar cliente');\r\n        alert('Cliente apagado com sucesso!');\r\n        navigate('/clientes'); // Redireciona para a lista de clientes\r\n      } catch (error) {\r\n        console.error('Erro:', error);\r\n        alert('Erro ao apagar cliente');\r\n      }\r\n    }\r\n  };\r\n\r\n  if (loading) return <div>Carregando...</div>;\r\n  if (error) return <div>{error}</div>;\r\n  if (!cliente) return <div>Cliente não encontrado.</div>;\r\n\r\n  return (\r\n    <div>\r\n      <h1>Detalhes do Cliente</h1>\r\n      <ClienteDetalhes cliente={cliente} />\r\n      <button onClick={() => navigate(`/clientes/detalhes/editar/${id}`)}>Editar Cliente</button>\r\n      <button \r\n        onClick={handleDelete} \r\n        style={{ backgroundColor: 'red', color: 'white', marginLeft: '10px' }}\r\n      >\r\n        Apagar Cliente\r\n      </button>\r\n      <button onClick={() => navigate('/clientes')} style={{ marginLeft: '10px' }}>\r\n        Voltar para Lista\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DetalhesClientes;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}